{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import'./Login.css';import axios from'axios';import{assets}from'../assets/assets';import{useNavigate}from'react-router-dom';import{toast}from'react-toastify';import{StoreContext}from'../Menu/CONTEXT/StoreContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Login=_ref=>{let{setLogin}=_ref;const{setToken}=useContext(StoreContext);const navigate=useNavigate();const[currState,setCurrState]=useState(\"Login\");const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");function register(e){e.preventDefault();if(password.length<8){toast.error(\"Password must be at least 8 characters long\");}else{axios.post(\"http://localhost:5000/register\",{name,email,password}).then(res=>{if(res.data===\"exist\"){toast.error(\"User already exists\");}else if(res.data===\"not exist\"){toast.success(\"User registered successfully\");setCurrState(\"Login\");}}).catch(error=>{console.error(\"There was an error!\",error);});}}async function log(e){e.preventDefault();try{await axios.post(\"http://localhost:5000/Login\",{email,password}).then(res=>{if(res.data.success){toast.success(\"Login successful\");setLogin(false);setToken(res.data.token);localStorage.setItem(\"token\",res.data.token);}else if(res.data==='incorrect password'){toast.error(\"Incorrect password\");}else if(res.data==='not exist'){toast.error(\"User not found\");}}).catch(error=>{console.error(\"There was an error!\",error);});}catch(error){console.error(\"There was an error!\",error);}}return/*#__PURE__*/_jsx(\"div\",{className:\"Login1\",id:\"footer\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"Login2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Login3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:currState}),/*#__PURE__*/_jsx(\"img\",{onClick:()=>setLogin(false),src:assets.cross_icon,alt:\"close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Login4\",children:currState===\"Login\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Your Email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{onClick:log,children:\"Login\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your Name\",value:name,onChange:e=>setName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Your Email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{onClick:register,children:\"Sign up\"})]})}),currState===\"Login\"?/*#__PURE__*/_jsxs(\"p\",{children:[\"Create a new account? \",/*#__PURE__*/_jsx(\"span\",{onClick:()=>setCurrState(\"Sign Up\"),children:\"Click Here\"})]}):/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"span\",{onClick:()=>setCurrState(\"Login\"),children:\"Login Here\"})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","assets","useNavigate","toast","StoreContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_ref","setLogin","setToken","navigate","currState","setCurrState","name","setName","email","setEmail","password","setPassword","register","e","preventDefault","length","error","post","then","res","data","success","catch","console","log","token","localStorage","setItem","className","id","children","onClick","src","cross_icon","alt","type","placeholder","value","onChange","target","required"],"sources":["C:/Users/kishore/Desktop/ZWIGGY/frontend/src/Login/Login.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport './Login.css';\r\nimport axios from 'axios';\r\nimport { assets } from '../assets/assets';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { StoreContext } from '../Menu/CONTEXT/StoreContext';\r\n\r\nconst Login = ({ setLogin }) => {\r\n    const {  setToken } = useContext(StoreContext);\r\n    const navigate = useNavigate();\r\n    const [currState, setCurrState] = useState(\"Login\");\r\n    const [name, setName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    function register(e) {\r\n        e.preventDefault();\r\n\r\n        if (password.length < 8) {\r\n            toast.error(\"Password must be at least 8 characters long\");\r\n        } else {\r\n            axios.post(\"http://localhost:5000/register\", { name, email, password })\r\n                .then(res => {\r\n                    if (res.data === \"exist\") {\r\n                        toast.error(\"User already exists\");\r\n                    } else if (res.data === \"not exist\") {\r\n                        toast.success(\"User registered successfully\");\r\n                        setCurrState(\"Login\")\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.error(\"There was an error!\", error);\r\n                });\r\n        }\r\n    }\r\n\r\n    async function log(e) {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            await axios.post(\"http://localhost:5000/Login\", { email, password })\r\n                .then(res => {\r\n                    if (res.data.success) {\r\n                        toast.success(\"Login successful\");\r\n                        setLogin(false);\r\n                        setToken(res.data.token)\r\n                        localStorage.setItem(\"token\",res.data.token)\r\n                       \r\n                    } else if (res.data === 'incorrect password') {\r\n                        toast.error(\"Incorrect password\");\r\n                    } else if (res.data === 'not exist') {\r\n                        toast.error(\"User not found\");\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.error(\"There was an error!\", error);\r\n                });\r\n        } catch (error) {\r\n            console.error(\"There was an error!\", error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"Login1\" id=\"footer\">\r\n            <form className=\"Login2\">\r\n                <div className='Login3'>\r\n                    <h2>{currState}</h2>\r\n                    <img onClick={() => setLogin(false)} src={assets.cross_icon} alt=\"close\" />\r\n                </div>\r\n                <div className='Login4'>\r\n                    {currState === \"Login\" ? (\r\n                        <>\r\n                            <input \r\n                                type=\"email\" \r\n                                placeholder='Your Email' \r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)} \r\n                                required \r\n                            />\r\n                            <input \r\n                                type=\"password\" \r\n                                placeholder='Password' \r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)} \r\n                                required \r\n                            />\r\n                            <button onClick={log}>Login</button>\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <input \r\n                                type=\"text\" \r\n                                placeholder='Your Name' \r\n                                value={name} \r\n                                onChange={(e) => setName(e.target.value)} \r\n                                required \r\n                            />\r\n                            <input \r\n                                type=\"email\" \r\n                                placeholder='Your Email' \r\n                                value={email} \r\n                                onChange={(e) => setEmail(e.target.value)} \r\n                                required \r\n                            />\r\n                            <input \r\n                                type=\"password\" \r\n                                placeholder='Password' \r\n                                value={password} \r\n                                onChange={(e) => setPassword(e.target.value)} \r\n                                required \r\n                            />\r\n                            <button onClick={register}>Sign up</button>\r\n                        </>\r\n                    )}\r\n                </div>\r\n                {currState === \"Login\" ? (\r\n                    <p>Create a new account? <span onClick={() => setCurrState(\"Sign Up\")}>Click Here</span></p>\r\n                ) : (\r\n                    <p>Already have an account? <span onClick={() => setCurrState(\"Login\")}>Login Here</span></p>\r\n                )}\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}